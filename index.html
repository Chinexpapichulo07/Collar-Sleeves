<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collar & Sleeves Delivery Note</title>
    <style>
        body { font-family: 'Courier New', monospace; background: #f0f0f0; padding: 20px; }

        /* === INPUT FORM (Phone View) === */
        .input-panel {
            background: white; max-width: 400px; margin: 0 auto; padding: 25px;
            border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .brand-header { text-align: center; font-weight: bold; margin-bottom: 20px; color: #000; text-transform: uppercase; font-size: 18px;}
        
        label { font-weight: bold; display: block; margin-top: 15px; font-size: 14px;}
        input, textarea { 
            width: 100%; padding: 12px; margin-top: 5px; 
            border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px;
        }
        input:focus, textarea:focus { border-color: #000; outline: none; }
        
        button { 
            width: 100%; padding: 15px; background: #000; color: white; 
            border: none; margin-top: 25px; font-size: 16px; font-weight: bold; 
            cursor: pointer; border-radius: 8px;
        }

        /* === THERMAL PRINTER LAYOUT (58mm) === */
        #receipt {
            display: none; /* Hidden on screen */
            width: 48mm; /* Safe print width for 58mm paper */
            margin: 0;
            padding: 0;
            font-size: 12px;
            font-weight: bold;
            color: black;
            font-family: 'Courier New', monospace;
            line-height: 1.3;
        }
        
        /* Printer Utilities */
        .center { text-align: center; }
        .right { text-align: right; }
        .bold { font-weight: 900; }
        .divider { border-top: 1px dashed black; margin: 8px 0; }
        .box { border: 2px solid black; padding: 5px; margin-top: 10px; text-align: center; }
        
        /* === PRINT MODE ACTIVATION === */
        @media print {
            body { background: white; padding: 0; margin: 0; }
            .input-panel { display: none; } /* Hide Form */
            #receipt { display: block; } /* Show Receipt */
            @page { size: 58mm auto; margin: 0; } /* Force 58mm width */
        }
    </style>
</head>
<body>

    <div class="input-panel">
        <div class="brand-header">üëï Collar & Sleeves<br><span style="font-size: 12px; font-weight: normal;">Delivery Note Generator</span></div>
        
        <label>Customer Name:</label>
        <input type="text" id="cName" placeholder="Enter name">

        <label>Phone Number:</label>
        <input type="number" id="cPhone" placeholder="080...">

        <label>Delivery Address:</label>
        <textarea id="cAddress" rows="2" placeholder="Enter delivery location"></textarea>
        
        <label>Item Description:</label>
        <textarea id="cDesc" rows="2" placeholder="E.g. 2 White Shirts, 1 Blue Kaftan"></textarea>

        <label>Total Amount (‚Ç¶):</label>
        <input type="number" id="cAmount" placeholder="0.00">

        <button onclick="printReceipt()">üñ®Ô∏è PRINT NOTE</button>
    </div>

    <div id="receipt">
        <div class="center bold" style="font-size: 16px;">COLLAR & SLEEVES</div>
        <div class="center">By Love William</div>
        <div class="divider"></div>
        
        <div class="center bold">DELIVERY NOTE</div>
        <div class="center" id="printDate" style="font-size: 10px; margin-bottom: 5px;"></div>
        <div class="divider"></div>

        <div>CUSTOMER:</div>
        <div class="bold" id="outName" style="font-size: 14px;"></div>
        <div id="outPhone"></div>
        <br>
        
        <div>ADDRESS:</div>
        <div id="outAddress" style="word-wrap: break-word;"></div>
        <div class="divider"></div>

        <div>ITEMS:</div>
        <div id="outDesc" class="bold" style="word-wrap: break-word;"></div>
        <div class="divider"></div>

        <div class="right" style="font-size: 16px;">TOTAL: ‚Ç¶<span id="outAmount" class="bold"></span></div>

        <div class="box">
            <div style="font-size: 10px;">PAYMENT DETAILS</div>
            <div class="bold">Collar & Sleeves<br>By Love William</div>
            <div class="bold" style="font-size: 14px; margin: 2px 0;">5184011612</div>
            <div>Moniepoint MFB</div>
        </div>

        <div class="center" style="margin-top: 15px; font-size: 10px;">
            Thanks for your patronage!
        </div>
        <br>
        .
    </div>

    <script>
        function printReceipt() {
            // 1. Get Values
            const name = document.getElementById('cName').value || "N/A";
            const phone = document.getElementById('cPhone').value || "";
            const address = document.getElementById('cAddress').value || "Pick Up";
            const desc = document.getElementById('cDesc').value || "Items";
            const amountInput = document.getElementById('cAmount').value || "0";

            // 2. Set Values to Receipt
            document.getElementById('outName').innerText = name.toUpperCase();
            document.getElementById('outPhone').innerText = phone;
            document.getElementById('outAddress').innerText = address;
            document.getElementById('outDesc').innerText = desc;
            
            // === THE FIX FOR US FORMAT ===
            // This forces it to look like "10,000" or "1,250"
            document.getElementById('outAmount').innerText = Number(amountInput).toLocaleString('en-US');

            // 3. Set Date
            const now = new Date();
            const dateStr = now.toLocaleDateString() + " " + now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('printDate').innerText = dateStr;

            // 4. Print
            window.print();
        }
    </script>
</body>
</html>
